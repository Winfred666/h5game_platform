\documentclass[12pt]{ctexart} % 使用 ctexart 文档类支持中文

\usepackage{fancyhdr} % 奇特的 header
\usepackage{xcolor} % 更多颜色

\usepackage[utf8]{inputenc} % 支持 UTF8 字符，在 UTF8 engine 中无需此行
\usepackage{xeCJK} % 支持中文排版，已经包含在 ctexart 中
\usepackage{fontspec} % 字体设置
\usepackage{geometry} % 页面布局
\usepackage{titlesec} % 自定义标题样式
\usepackage{setspace} % 设置行距
\usepackage{microtype} % 更多的微调
\usepackage{tabularx} % 表格支持

\usepackage{float} % Add the float package，支持图片位置固定

\usepackage[colorlinks,linkcolor=black,urlcolor=black]{hyperref} % 超链接支持

\usepackage{tocloft} % 自定义目录样式

\usepackage{graphicx} % 图片设置
\graphicspath{ {./images/} }

% 设置页面布局
\geometry{a4paper, margin=1in}

% 设置行距为 1.25 倍
\setstretch{1.25}

% 设置中文字体
\setCJKmainfont{SimSun}[BoldFont={Microsoft YaHei Bold}] % 设置正文为宋体

\setCJKsansfont{Microsoft YaHei}[BoldFont={Microsoft YaHei Bold}] % 标题等无衬线字体为黑体

% 设置英文字体
\setmainfont{Times New Roman}



% 配置页眉和页脚
\pagestyle{fancy}
\fancyhf{}

\renewcommand{\headrulewidth}{0pt}

\setlength{\headheight}{25.60938pt} % Set the headheight to the required value
\addtolength{\topmargin}{-13.60938pt} % Adjust the topmargin to compensate

% 定义颜色
\definecolor{myblue}{RGB}{152, 220, 222} % 蓝色

% 左侧页眉设置, 页码在页眉外侧
\fancyhead[L]{%
  \colorbox{myblue}{%
    \parbox[t]{1cm}{%
      \textcolor{white}{\thepage}%
    }%
  }%
  \hspace{0.5cm}
  总体设计报告
}

% \fancyhead[L]{\leftmark} % 左页显示章节名

% 页眉横线设置
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\headrule}{%
  \hbox to\headwidth{%
    \color{black}\leaders\hrule height \headrulewidth\hfill%
  }%
}

% 页脚页数设置
\renewcommand{\footrulewidth}{0pt}
\fancyfoot[C]{\thepage}

% 设置目录样式
\renewcommand{\cftsecfont}{\bfseries} % 目录中章节标题加粗

\titleformat{\section}
  {\normalfont\Large\bfseries} % 移除 \centering
  {\thesection}{1em}{}


% 超链接设置
\hypersetup{
  colorlinks=true,
  linkcolor=black,
  filecolor=magenta,      
  urlcolor=cyan,
}


\begin{document}

\begin{titlepage}
  \centering % 居中对齐
  % \vspace*{1cm} % 从顶部添加一些垂直间距
  \includegraphics[width=0.6\textwidth]{zjutitle.jpg} % 插入图片
  
  \vspace{2cm} % 添加垂直间距
  
  {\fontsize{36}{48}\selectfont\CJKfontspec{Microsoft YaHei} 总体设计报告} % 标题
  
  \vspace{2cm} % 添加垂直间距
  
  \includegraphics[width=0.4\textwidth]{zjulogo.jpg} % 插入图片
  
  \vspace{2cm}
  
  {\Huge\CJKfontspec{Microsoft YaHei} 项目主题： \underline{H5游戏分享平台}} % 项目主题 with underline
  
  \vspace{1cm}

  {\Large\CJKfontspec{Microsoft YaHei} 第 1 小组： \underline{肖一鸣、金谞健、马宇恒、杨仕平、周睿}} % 作者
  
  \vspace{1cm} % 添加垂直间距
  
  {\Large\CJKfontspec{Microsoft YaHei} \today} % 日期

\end{titlepage}

\newpage
\tableofcontents % 自动生成目录
\newpage

\section{体系结构设计}

\subsection{目的}
\subsection{体系结构风格}
\subsubsection{以数据为中心的体系结构}
\subsubsection{数据流体系结构}
\subsubsection{调用和返回体系结构}
\subsubsection{面向对象体系结构}
\subsubsection{层次体系结构}
\subsubsection{客户端-服务器架构}
\subsubsection{浏览器-服务器架构}
\subsubsection{微服务架构}
\subsubsection{事件驱动架构}
\subsection{本次设计采用的体系结构风格}
\subsection{体系结构环境图和原型}
\subsubsection{视图层}
\subsubsection{控制层}
\paragraph{控制器}
\subparagraph{安全模块}
\paragraph{服务层}
\subparagraph{订单管理模块}
\subparagraph{购物车管理模块}
\subparagraph{商家管理模块}
\subparagraph{商品管理模块}
\subparagraph{线上聊天模块}
\subparagraph{用户管理模块}
\subparagraph{商品推荐系统模块}
\subsubsection{模型层}
\paragraph{映射层}
\paragraph{模型层}

\section{服务器端设计}

\subsection{服务器架构}
\subsubsection{业务逻辑层}
\subsubsection{服务层}
\subsubsection{映射层}
\subsubsection{模型层}
\subsection{服务器处理流程}
\subsection{数据库设计}


\section{客户端设计}

\subsection{客户端架构}
\subsubsection{视图层}
\subsection{客户端处理流程}

\section{界面原型}


\subsection{登录界面}
\subsection{商品收藏页}
\subsection{购物车页}
\subsection{注册界面}
\subsection{用户主界面}
\subsection{商品详情页一}
\subsection{商品详情页二}
\subsection{个人信息页}
\subsection{个人商铺页}
\subsection{发布商品页}
\subsection{结算付款页}
\subsection{查看订单页一}
\subsection{查看订单页二}

\end{document}